<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 6.0.2">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>AssetSphere</title> <link rel="stylesheet" href="/tp/markbind/css/bootstrap.min.css"> <link rel="stylesheet" href="/tp/markbind/fontawesome/css/all.min.css"> <link rel="stylesheet" href="/tp/markbind/glyphicons/css/bootstrap-glyphicons.min.css"><link rel="stylesheet" href="/tp/markbind/css/codeblock-dark.min.css"><link rel="stylesheet" href="/tp/markbind/css/markbind.min.css"><link rel="stylesheet" href="/tp/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/tp/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/tp/stylesheets/main.css">
<link rel="icon" href="/tp/favicon.ico"></head>
<script>
  const baseUrl = '/tp'
</script>
<body >
<div id="app"><!--[--><header sticky><div data-v-2dc82f13><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-2dc82f13><div class="container-fluid" data-v-2dc82f13><div class="navbar-left" data-v-2dc82f13><!--[--><a href="/tp/index.html" title="Home" class="navbar-brand">AssetSphere</a><!--]--></div><div class="navbar-default" data-v-2dc82f13><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-2dc82f13><!--[--> <li><a href="/tp/index.html" class="nav-link">Home</a></li> <li><a href="/tp/UserGuide.html" class="nav-link">User Guide</a></li> <li><a href="/tp/DeveloperGuide.html" class="nav-link">Developer Guide</a></li> <li><a href="/tp/AboutUs.html" class="nav-link">About Us</a></li> <li><a href="https://github.com/AY2526S1-CS2103T-T13-2/tp" target="_blank" class="nav-link"><span><span aria-hidden="true" class="fab fa-github"></span></span></a></li> <!--]--></ul></div><ul class="navbar-nav navbar-right" data-v-2dc82f13><!--[--><li><form class="navbar-form"><div style="position:relative;" class="dropdown" data-v-00e26d0a><!--[--><input value="" data-bs-toggle="dropdown" type="text" class="form-control" placeholder="Search" autocomplete="off" data-v-00e26d0a><div class="form-control placeholder-div-hidden" data-v-00e26d0a>Search</div><!--]--><ul class="dropdown-menu search-dropdown-menu dropdown-menu-hidden dropdown-menu-end" data-v-00e26d0a><!--[--><!--]--></ul></div></form></li><!--]--></ul></div></nav><div style="display:none;" class="lower-navbar-container" data-v-2dc82f13><!--[--><!----><!----><!--]--></div></div></header> <div id="flex-body"><nav id="site-nav" data-v-6b1b63d2><!--[--><div class="site-nav-top"><div class="fw-bold mb-2" style="font-size:1.25rem;">Site Map</div></div> <div class="nav-component slim-scroll"><div class="site-nav-root"><!--[--><ul class="site-nav-list site-nav-list-root" data-v-6b1b63d2><!--[--><li><div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/tp/index.html">Home</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/tp/UserGuide.html">User Guide</a> <div class="site-nav-dropdown-btn-container"><i class="site-nav-dropdown-btn-icon site-nav-rotate-icon" onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();"><span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list"><li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/UserGuide.html#quick-start">Quick Start</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/UserGuide.html#features">Features</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/UserGuide.html#faq">FAQ</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/UserGuide.html#faq">Command Summary</a></div></li></ul></li> <li><div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html">Developer Guide</a> <div class="site-nav-dropdown-btn-container"><i class="site-nav-dropdown-btn-icon site-nav-rotate-icon" onclick="handleSiteNavClick(this.parentNode.parentNode, false); event.stopPropagation();"><span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span></i></div></div><ul class="site-nav-dropdown-container site-nav-dropdown-container-open site-nav-list"><li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#acknowledgements">Acknowledgements</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#setting-up-getting-started">Setting Up</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#design">Design</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#implementation">Implementation</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#documentation-logging-testing-configuration-dev-ops">Documentation, logging, testing, configuration, dev-ops</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#appendix-requirements">Appendix: Requirements</a></div></li> <li><div class="site-nav-default-list-item site-nav-list-item-1" onclick="handleSiteNavClick(this)"><a href="/tp/DeveloperGuide.html#appendix-instructions-for-manual-testing">Appendix: Instructions for manual testing</a></div></li></ul></li> <li><div class="site-nav-default-list-item site-nav-list-item-0" onclick="handleSiteNavClick(this)"><a href="/tp/AboutUs.html">About Us</a></div></li><!--]--><!--v-if--></ul><!--]--></div></div><!--]--><!--v-if--></nav> <div id="content-wrapper"><h1 id="barecommand-api-reference">BareCommand API Reference<a class="fa fa-anchor" href="#barecommand-api-reference" onclick="event.stopPropagation()"></a></h1> <h2 id="overview">Overview<a class="fa fa-anchor" href="#overview" onclick="event.stopPropagation()"></a></h2> <p><code class="hljs inline no-lang">BareCommand</code> is the intermediate representation produced by the parser that your command extractors will work with. It provides a clean, type-safe interface for accessing the parsed components of a command: the imperative, parameters, and options.</p> <h2 id="core-concepts">Core Concepts<a class="fa fa-anchor" href="#core-concepts" onclick="event.stopPropagation()"></a></h2> <p>After the lexer and parser process a command string, they produce a <code class="hljs inline no-lang">BareCommand</code> object containing:</p> <ul><li><strong>Imperative</strong>: The command verb (e.g., <code class="hljs inline no-lang">&quot;add&quot;</code>, <code class="hljs inline no-lang">&quot;delete&quot;</code>, <code class="hljs inline no-lang">&quot;find&quot;</code>)</li> <li><strong>Parameters</strong>: An ordered array of positional arguments</li> <li><strong>Options</strong>: A map of named flags and key-value pairs</li></ul> <p>Your command extractor receives this <code class="hljs inline no-lang">BareCommand</code> and is responsible for:</p> <ol><li>Extracting the relevant parameters and options</li> <li>Validating them according to your command&#39;s requirements</li> <li>Converting them to appropriate domain types</li> <li>Constructing the final executable <code class="hljs inline no-lang">Command</code> object</li></ol> <h2 id="accessing-parameters">Accessing Parameters<a class="fa fa-anchor" href="#accessing-parameters" onclick="event.stopPropagation()"></a></h2> <h3 id="getting-individual-parameters">Getting Individual Parameters<a class="fa fa-anchor" href="#getting-individual-parameters" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span><span class="hljs-function">String <span class="hljs-title">getParameter</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span></span>
</span></code></pre><p>Retrieves the parameter at the specified zero-based index. Throws <code class="hljs inline no-lang">ArrayIndexOutOfBoundsException</code> if the index is invalid.</p> <p><strong>Example:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">// Command: &quot;add John Doe&quot;</span>
</span><span>String firstName = bareCommand.getParameter(<span class="hljs-number">0</span>);  <span class="hljs-comment">// &quot;John&quot;</span>
</span><span>String lastName = bareCommand.getParameter(<span class="hljs-number">1</span>);   <span class="hljs-comment">// &quot;Doe&quot;</span>
</span></code></pre><h3 id="getting-all-parameters">Getting All Parameters<a class="fa fa-anchor" href="#getting-all-parameters" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span>String[] getAllParameters()
</span></code></pre><p>Returns an array containing all parameters in order. Use this when you need to validate the parameter count or iterate through all parameters.</p> <p><strong>Example:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">// Command: &quot;tag 1 friend colleague&quot;</span>
</span><span>String[] params = bareCommand.getAllParameters();  <span class="hljs-comment">// [&quot;1&quot;, &quot;friend&quot;, &quot;colleague&quot;]</span>
</span><span>
</span><span><span class="hljs-keyword">if</span> (params.length &lt; <span class="hljs-number">2</span>) {
</span><span>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(<span class="hljs-string">&quot;At least two parameters required&quot;</span>);
</span><span>}
</span></code></pre><h2 id="accessing-options">Accessing Options<a class="fa fa-anchor" href="#accessing-options" onclick="event.stopPropagation()"></a></h2> <h3 id="checking-option-presence">Checking Option Presence<a class="fa fa-anchor" href="#checking-option-presence" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span><span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">hasOption</span><span class="hljs-params">(String key)</span></span>
</span></code></pre><p>Returns <code class="hljs inline no-lang">true</code> if the option was specified at least once, regardless of whether it has a value. Use this for boolean flags.</p> <p><strong>Example:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">// Command: &quot;delete 1 /force&quot;</span>
</span><span><span class="hljs-keyword">if</span> (bareCommand.hasOption(<span class="hljs-string">&quot;force&quot;</span>)) {
</span><span>    <span class="hljs-comment">// Execute without confirmation</span>
</span><span>}
</span></code></pre><h3 id="getting-a-single-option-value">Getting a Single Option Value<a class="fa fa-anchor" href="#getting-a-single-option-value" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span><span class="hljs-function">Optional&lt;String&gt; <span class="hljs-title">getOptionValue</span><span class="hljs-params">(String key)</span></span>
</span></code></pre><p>Returns an <code class="hljs inline no-lang">Optional</code> containing the first value associated with the option key. Returns <code class="hljs inline no-lang">Optional.empty()</code> if:</p> <ul><li>The option was not specified, or</li> <li>The option was specified as a flag without a value (e.g., <code class="hljs inline no-lang">/force</code>)</li></ul> <p><strong>Example:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">// Command: &quot;add John /priority:high&quot;</span>
</span><span>String priority = bareCommand.getOptionValue(<span class="hljs-string">&quot;priority&quot;</span>)
</span><span>    .orElse(<span class="hljs-string">&quot;medium&quot;</span>);  <span class="hljs-comment">// Default to &quot;medium&quot; if not specified</span>
</span></code></pre><h3 id="getting-multiple-option-values">Getting Multiple Option Values<a class="fa fa-anchor" href="#getting-multiple-option-values" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span>Optional&lt;List&lt;String&gt;&gt; getOptionAllValues(String key)
</span></code></pre><p>Returns an <code class="hljs inline no-lang">Optional</code> containing all values for an option that may be specified multiple times. Returns <code class="hljs inline no-lang">Optional.empty()</code> only if the option was never specified.</p> <p><strong>Example:</strong></p> <pre><code class="hljs java"><span><span class="hljs-comment">// Command: &quot;add Task /tag:work /tag:urgent&quot;</span>
</span><span>List&lt;String&gt; tags = bareCommand.getOptionAllValues(<span class="hljs-string">&quot;tag&quot;</span>)
</span><span>    .orElse(List.of());  <span class="hljs-comment">// Empty list if no tags</span>
</span><span>
</span><span><span class="hljs-comment">// tags = [&quot;work&quot;, &quot;urgent&quot;]</span>
</span></code></pre><p><strong>Important</strong>: If an option is specified multiple times without values (e.g., <code class="hljs inline no-lang">/flag /flag</code>), this returns an empty list wrapped in an <code class="hljs inline no-lang">Optional</code>, not <code class="hljs inline no-lang">Optional.empty()</code>.</p> <h3 id="getting-all-options">Getting All Options<a class="fa fa-anchor" href="#getting-all-options" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span>Map&lt;String, List&lt;String&gt;&gt; getAllOptions()
</span></code></pre><p>Returns a read-only view of all option key→value pairs. Useful for debugging or when you need to iterate through all provided options.</p> <h2 id="common-validation-patterns">Common Validation Patterns<a class="fa fa-anchor" href="#common-validation-patterns" onclick="event.stopPropagation()"></a></h2> <h3 id="validating-parameter-count">Validating Parameter Count<a class="fa fa-anchor" href="#validating-parameter-count" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span>String[] params = bareCommand.getAllParameters();
</span><span>
</span><span><span class="hljs-keyword">if</span> (params.length == <span class="hljs-number">0</span>) {
</span><span>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(<span class="hljs-string">&quot;At least one parameter required&quot;</span>);
</span><span>}
</span><span>
</span><span><span class="hljs-keyword">if</span> (params.length &lt; <span class="hljs-number">2</span>) {
</span><span>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(<span class="hljs-string">&quot;Expected at least 2 parameters, got &quot;</span> + params.length);
</span><span>}
</span></code></pre><h3 id="parsing-typed-parameters">Parsing Typed Parameters<a class="fa fa-anchor" href="#parsing-typed-parameters" onclick="event.stopPropagation()"></a></h3> <p>Note that the following is just an example; index validation is provided as a static method in <code class="hljs inline no-lang">Validation::validateIndex</code>.</p> <pre><code class="hljs java"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TagCommandExtractor</span> </span>{
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_INDEX_FAILED_TO_PARSE = <span class="hljs-string">&quot;Invalid index: expected positive integer, got %1$s&quot;</span>;
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_INDEX_OUT_OF_RANGE = <span class="hljs-string">&quot;Invalid index: expected positive integer, got %1$s&quot;</span>;
</span><span>    
</span><span>    <span class="hljs-comment">// ...</span>
</span><span>    
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> TagCommand <span class="hljs-title">extract</span><span class="hljs-params">(BareCommand bareCommand)</span> <span class="hljs-keyword">throws</span> ValidationException </span>{
</span><span>        <span class="hljs-comment">// ...</span>
</span><span>        
</span><span>        <span class="hljs-comment">// Parsing an index parameter</span>
</span><span>        <span class="hljs-keyword">try</span> {
</span><span>            index = Index.fromOneBased(Integer.parseInt(params[<span class="hljs-number">0</span>]));
</span><span>        } <span class="hljs-keyword">catch</span> (NumberFormatException e) {
</span><span>            <span class="hljs-comment">// only thrown by Integer::parseInt</span>
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(String.format(MESSAGE_INDEX_FAILED_TO_PARSE, params[<span class="hljs-number">0</span>]));
</span><span>        } <span class="hljs-keyword">catch</span> (IndexOutOfBoundsException e) {
</span><span>            <span class="hljs-comment">// only thrown by Index::fromOneBased</span>
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(String.format(MESSAGE_INDEX_OUT_OF_RANGE, params[<span class="hljs-number">0</span>]));
</span><span>        }
</span><span>        
</span><span>        <span class="hljs-comment">// ...</span>
</span><span>    }
</span><span>}
</span></code></pre><h3 id="validating-required-options">Validating Required Options<a class="fa fa-anchor" href="#validating-required-options" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span><span class="hljs-keyword">if</span> (!bareCommand.hasOption(<span class="hljs-string">&quot;email&quot;</span>)) {
</span><span>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(<span class="hljs-string">&quot;Email option is required&quot;</span>);
</span><span>}
</span><span>
</span><span>String email = bareCommand.getOptionValue(<span class="hljs-string">&quot;email&quot;</span>)
</span><span>    .orElseThrow(() -&gt; <span class="hljs-keyword">new</span> ValidationException(<span class="hljs-string">&quot;Email option must have a value&quot;</span>));
</span></code></pre><h3 id="handling-optional-options-with-defaults">Handling Optional Options with Defaults<a class="fa fa-anchor" href="#handling-optional-options-with-defaults" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span>String priority = bareCommand.getOptionValue(<span class="hljs-string">&quot;priority&quot;</span>).orElse(<span class="hljs-string">&quot;medium&quot;</span>);
</span><span>
</span><span><span class="hljs-keyword">boolean</span> force = bareCommand.hasOption(<span class="hljs-string">&quot;force&quot;</span>);
</span><span>
</span><span><span class="hljs-keyword">int</span> limit = bareCommand.getOptionValue(<span class="hljs-string">&quot;limit&quot;</span>)
</span><span>    .map(Integer::parseInt)
</span><span>    .orElse(<span class="hljs-number">10</span>);  <span class="hljs-comment">// Default limit</span>
</span></code></pre><h3 id="validating-option-values">Validating Option Values<a class="fa fa-anchor" href="#validating-option-values" onclick="event.stopPropagation()"></a></h3> <pre><code class="hljs java"><span>String priority = bareCommand.getOptionValue(<span class="hljs-string">&quot;priority&quot;</span>).orElse(<span class="hljs-string">&quot;medium&quot;</span>);
</span><span>
</span><span><span class="hljs-keyword">if</span> (!Set.of(<span class="hljs-string">&quot;low&quot;</span>, <span class="hljs-string">&quot;medium&quot;</span>, <span class="hljs-string">&quot;high&quot;</span>).contains(priority)) {
</span><span>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(
</span><span>        <span class="hljs-string">&quot;Invalid priority: must be &#39;low&#39;, &#39;medium&#39;, or &#39;high&#39;, got &#39;&quot;</span> + priority + <span class="hljs-string">&quot;&#39;&quot;</span>
</span><span>    );
</span><span>}
</span></code></pre><h2 id="complete-extractor-example">Complete Extractor Example<a class="fa fa-anchor" href="#complete-extractor-example" onclick="event.stopPropagation()"></a></h2> <p>Here&#39;s a complete example showing typical usage patterns:</p> <pre><code class="hljs java"><span><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TagCommandExtractor</span> </span>{
</span><span>    <span class="hljs-comment">// Messages for extraction</span>
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_INDEX_UNSPECIFIED = <span class="hljs-string">&quot;Index not specified.&quot;</span>;
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_INDEX_FAILED_TO_PARSE = <span class="hljs-string">&quot;Invalid index: expected positive integer, got %1$s&quot;</span>;
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_INDEX_OUT_OF_RANGE = <span class="hljs-string">&quot;Invalid index: expected positive integer, got %1$s&quot;</span>;
</span><span>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String MESSAGE_TAGS_UNSPECIFIED = <span class="hljs-string">&quot;At least one tag must be specified.&quot;</span>;
</span><span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">TagCommandExtractor</span><span class="hljs-params">()</span> </span>{}
</span><span>
</span><span>    <span class="hljs-comment">/**</span>
</span><span><span class="hljs-comment">     * Extracts command parameters from the given Command object. Performs input validation as well.</span>
</span><span><span class="hljs-comment">     *</span>
</span><span><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> bareCommand Command to extract parameters from.</span>
</span><span><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> TagCommand that can be executed.</span>
</span><span><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> ValidationException When the command parameters fail to validate.</span>
</span><span><span class="hljs-comment">     */</span>
</span><span>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> TagCommand <span class="hljs-title">extract</span><span class="hljs-params">(BareCommand bareCommand)</span> <span class="hljs-keyword">throws</span> ValidationException </span>{
</span><span>        String[] params = bareCommand.getAllParameters();
</span><span>
</span><span>        <span class="hljs-comment">// extract index</span>
</span><span>        <span class="hljs-keyword">if</span> (params.length &lt;= <span class="hljs-number">0</span>) {
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(MESSAGE_INDEX_UNSPECIFIED);
</span><span>        }
</span><span>        Index index;
</span><span>        <span class="hljs-keyword">try</span> {
</span><span>            index = Index.fromOneBased(Integer.parseInt(params[<span class="hljs-number">0</span>]));
</span><span>        } <span class="hljs-keyword">catch</span> (NumberFormatException e) {
</span><span>            <span class="hljs-comment">// only thrown by Integer::parseInt</span>
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(String.format(MESSAGE_INDEX_FAILED_TO_PARSE, params[<span class="hljs-number">0</span>]));
</span><span>        } <span class="hljs-keyword">catch</span> (IndexOutOfBoundsException e) {
</span><span>            <span class="hljs-comment">// only thrown by Index::fromOneBased</span>
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(String.format(MESSAGE_INDEX_OUT_OF_RANGE, params[<span class="hljs-number">0</span>]));
</span><span>        }
</span><span>
</span><span>        <span class="hljs-comment">// extract tags</span>
</span><span>        <span class="hljs-keyword">if</span> (params.length &lt;= <span class="hljs-number">1</span>) {
</span><span>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationException(MESSAGE_TAGS_UNSPECIFIED);
</span><span>        }
</span><span>        Set&lt;Tag&gt; tags = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();
</span><span>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; params.length; i++) {
</span><span>            tags.add(<span class="hljs-keyword">new</span> Tag(params[i]));
</span><span>        }
</span><span>
</span><span>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TagCommand(index, tags);
</span><span>    }
</span><span>}
</span></code></pre><h2 id="best-practices">Best Practices<a class="fa fa-anchor" href="#best-practices" onclick="event.stopPropagation()"></a></h2> <ol><li><p><strong>Always validate parameter count</strong> before accessing individual parameters to avoid <code class="hljs inline no-lang">ArrayIndexOutOfBoundsException</code>.</p></li> <li><p><strong>Provide clear error messages</strong> that tell users exactly what went wrong and what was expected.</p></li> <li><p><strong>Use <code class="hljs inline no-lang">Optional</code> methods effectively</strong>: Prefer <code class="hljs inline no-lang">orElse()</code>, <code class="hljs inline no-lang">orElseThrow()</code>, or <code class="hljs inline no-lang">map()</code> over explicit <code class="hljs inline no-lang">isPresent()</code> checks.</p></li> <li><p><strong>Handle type conversion errors gracefully</strong>: Catch <code class="hljs inline no-lang">NumberFormatException</code>, <code class="hljs inline no-lang">DateTimeParseException</code>, etc., and wrap them in <code class="hljs inline no-lang">ValidationException</code> with helpful messages.</p></li> <li><p><strong>Document your parameter and option requirements</strong> using the standard notation described in the &quot;Documenting Command Syntax&quot; section.</p></li> <li><p><strong>Keep validation logic in the extractor</strong>: Don&#39;t leak validation responsibilities into your <code class="hljs inline no-lang">Command</code> class—it should receive only validated, typed inputs.</p></li></ol></div> <nav id="page-nav" data-v-6b1b63d2><!--[--><div class="nav-component slim-scroll"></div><!--]--><!--v-if--></nav> <div class="scroll-top-button fa-lg d-print-none" style="display:none;bottom:2%;right:2%;position:fixed;" aria-hidden="true"><!--[--><i class="fas fa-arrow-circle-up"></i><!--]--></div></div> <footer><div class="text-center"><small>[<span><strong>Powered by</strong></span> <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 6.0.2</a>, generated on Wed, 22 Oct 2025, 23:29:02 GMT+8]</small></div></footer><!--]--></div>
</body><script src="/tp/markbind/js/bootstrap-utility.min.js"></script>
<script src="/tp/markbind/js/polyfill.min.js"></script>
<script src="/tp/markbind/js/vue.global.prod.min.js"></script>
<script src="/tp/markbind/js/markbind.min.js"></script>
<script src="BareCommand.page-vue-render.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
